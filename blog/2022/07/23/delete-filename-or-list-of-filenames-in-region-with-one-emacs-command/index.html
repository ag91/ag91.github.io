<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Delete filename or list of filenames in region with one Emacs command - Where parallels cross</title>
    <meta charset="utf-8" />
    <meta name="author" content="Andrea" />
    <meta name="description" content="A little snippet to delete a list of files quickly." />
    <meta name="keywords" content="emacs" />
    <link rel="stylesheet" href="/media/css/main.css" type="text/css">
    <link rel="stylesheet" href="/media/css/prettify.css" type="text/css">
  </head>
  <body class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="/">Where parallels cross</a></h1>
        <p>Interesting bits of life</p>
        <ul>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/offering/">Offering</a></li>
          <li><a href="/tags/">Tags</a></li>
          <li><a href="/about/">About</a></li>
          <li><a href="https://github.com/ag91">GitHub</a></li>
          <li><a href="/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="//www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="ag91.github.io">
        </form>
      </header>
    </div>

<div>
<div class="post">
<h1>Delete filename or list of filenames in region with one Emacs command</h1>
<p>
I have a piece of software at work that spits out a list of files that
we may wish to delete. Often I do want to, but I postpone for a reason
or another: so the list keeps growing!
</p>

<p>
I got to the point that was worth to write an Elisp function for it.
</p>

<p>
So say you have a list of files:
</p>

<div class="org-src-container">
<pre class="src src-text">/tmp/fileA.txt
/tmp/fileB.txt
/tmp/fileC.txt
</pre>
</div>

<p>
And you have the following code loaded (requires dash.el):
</p>

<div class="org-src-container">
<pre class="src src-elisp">(defun delete-files-for-filepaths-in-region ()
  (interactive)
  (let ((to-delete-string (or (when (region-active-p)
                                (buffer-substring-no-properties
                                 (caar (region-bounds))
                                 (cdar (region-bounds))))
                              (thing-at-point 'filename t))))
    (--&gt; to-delete-string
         (s-split "\n" it t)
         (-each it
           'delete-file))
    (message "Files deleted!")))
</pre>
</div>

<p>
you will just need to mark the region around the list of files to remove them all.
Didn't need error handling in my case, but that saved me some time. Hopefully it helps you too.
</p>

<p>
Happy deleting!
</p>

</div>
</div>
    <div>
      <div class="post-meta">
        <span title="post date" class="post-info">2022-07-23</span>
        <span title="last modification date" class="post-info">2022-07-23</span>
        <span title="tags" class="post-info"><a href="/tags/emacs/">emacs</a></span>
        <span title="author" class="post-info">Andrea</span>
      </div>
      <section>
        <h1>Comments</h1>
      </section>
      <script src="//code.jquery.com/jquery-latest.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.js"></script>
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="/media/js/main.js"></script>
      <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-173546938-1']);
        _gaq.push(['_trackPageview']);
        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      </script>
      <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 28.x (<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
          Copyright &copy; 2012 - <span id="footerYear"></span> <a href="mailto:andrea-dev &lt;at&gt; hotmail &lt;dot&gt; com">Andrea</a>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          Powered by <a href="https://github.com/kelvinh/org-page" target="_blank">org-page</a>
          <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
      </div>
    </div>

  </body>
</html>
